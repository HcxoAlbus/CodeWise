"""
AI模型Prompt模板定义
负责人：组长
作用：定义用于代码解释和代码审查的结构化Prompt模板
"""

# 代码解释Prompt模板
CODE_EXPLANATION_PROMPT = """
你是一位经验丰富的Python编程导师，擅长用清晰易懂的语言解释代码。

请分析以下{language}代码，并提供详细的解释：

```{language}
{code}
```

请按照以下结构提供解释：

1. **代码功能概述**：用一句话总结这段代码的主要功能

2. **逐步解释**：
   - 详细解释每个重要部分的作用
   - 解释关键变量和函数的用途
   - 说明代码的执行流程

3. **关键概念**：
   - 列出代码中涉及的重要编程概念
   - 解释任何可能让初学者困惑的部分

4. **学习要点**：
   - 指出这段代码展示的好的编程实践
   - 提醒需要注意的地方

请用中文回答，语言要通俗易懂，适合编程初学者理解。
"""

# 代码审查Prompt模板
CODE_REVIEW_PROMPT = """
你是一位资深的Python代码审查专家，具有丰富的代码质量评估经验。

请对以下{language}代码进行全面的审查分析：

```{language}
{code}
```

你有以下工具可以使用：
1. flake8_analyzer: 进行代码风格和语法检查
2. knowledge_retriever: 从知识库检索最佳实践建议

请按照以下步骤进行审查：

1. **首先使用flake8_analyzer工具**检查代码风格和基本语法问题
2. **然后使用knowledge_retriever工具**查找相关的最佳实践和优化建议
3. **结合工具结果和你的专业知识**，生成最终的审查报告

最终报告请包含以下内容：

## 📊 总体评分
给出0-100分的评分，并简要说明评分依据。

## 🐛 潜在Bug分析
- 识别可能的逻辑错误
- 指出边界条件问题
- 标注可能的运行时错误

## 🎨 代码风格检查
- 基于flake8结果分析风格问题
- 提供具体的改进建议
- 参考PEP 8规范

## ⚡ 优化建议
- 基于知识库检索结果提供优化方案
- 性能改进建议
- 代码可读性提升
- 更Pythonic的写法

## 💡 总结建议
提供3-5条最重要的改进建议，按优先级排序。

请确保建议具体、可操作，并解释为什么这样做更好。用中文回答。
"""

# 错误处理Prompt模板
ERROR_HANDLING_PROMPT = """
分析以下Python代码中可能出现的错误和异常情况：

```python
{code}
```

请识别：
1. 可能抛出的异常类型
2. 边界条件问题
3. 资源管理问题
4. 类型错误风险

并提供相应的错误处理建议。
"""

# 性能优化Prompt模板
PERFORMANCE_OPTIMIZATION_PROMPT = """
分析以下Python代码的性能特征：

```python
{code}
```

请提供：
1. 时间复杂度分析
2. 空间复杂度分析
3. 性能瓶颈识别
4. 优化建议和改进方案

重点关注循环、数据结构选择、算法效率等方面。
"""